To use a pre-request script within the Bruno app, you can write a script in JavaScript to execute before making API requests. Here's how you can set this up:

### Pre-request Script in Bruno App

1. **Open Bruno App and Navigate to Your API Request**

2. **Add a Pre-request Script**
   - Go to the pre-request script section of your API request.

3. **JavaScript Script for Bearer Token**
   Hereâ€™s a sample script to get a bearer token using OAuth 2.0 and set it in the request header:

   ```javascript
   // Replace these values with your Bruno app client credentials and token URL
   const clientId = 'YOUR_BRUNO_CLIENT_ID';
   const clientSecret = 'YOUR_BRUNO_CLIENT_SECRET';
   const tokenUrl = 'https://brunoapp.com/oauth/token';

   // Function to get the bearer token
   async function getBearerToken() {
       const response = await fetch(tokenUrl, {
           method: 'POST',
           headers: {
               'Content-Type': 'application/x-www-form-urlencoded'
           },
           body: new URLSearchParams({
               'grant_type': 'client_credentials',
               'client_id': clientId,
               'client_secret': clientSecret
           })
       });

       if (!response.ok) {
           throw new Error(`Token request failed with status ${response.status}`);
       }

       const data = await response.json();
       return data.access_token;
   }

   // Execute the function and set the token in the request header
   getBearerToken().then(token => {
       bruno.setGlobalVariable('bearerToken', token);
   }).catch(error => {
       console.error('Error fetching token:', error);
   });
   ```

4. **Set the Authorization Header**
   In your API request headers, use the global variable for the bearer token:
   ```json
   {
       "Authorization": "Bearer {{bearerToken}}"
   }
   ```

### Explanation

- **fetch**: Makes an HTTP request to the token endpoint.
- **URLSearchParams**: Formats the request body as `application/x-www-form-urlencoded`.
- **setGlobalVariable**: Stores the token in a global variable accessible in your request headers.

### Testing and Debugging

- **Run the Request**: Execute your API request in Bruno to see if the token is correctly fetched and applied.
- **Check Logs**: Use `console.log` to debug and ensure the token is being retrieved and set properly.

This script should dynamically fetch a new token before each request and apply it, ensuring your API calls are authenticated.